{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Registro</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link rel="stylesheet" type="text/css" href="{% static 'potrotransporte/bootstrap/css/bootstrap.css' %}">
  <script src="{% static 'potrotransporte/jquery.min.js' %}"></script>
  <script src="{% static 'potrotransporte/bootstrap/js/bootstrap.js' %} "></script>
<style>

    .errorlist {
    list-style: none;
    }

</style>

</head>

<body>

<nav class="navbar navbar-expand-md fixed-top-sm  bg-dark navbar-dark">
    <a href="{% url 'index' %}" class="navbar-brand">
        <img src="{% static 'potrotransporte/potroLogo.png' %}" width="30%"> Potro Transporte
    </a>
</nav>


<div id="container" class="container">
<div class="col-sm-6 offset-sm-3 text-center">
 <h1 class="display-4">Registro</h1>
<div class="info-form">

<form action="#" class="form-inlin justify-content-center" method="post">
    {% csrf_token %}

        <div class="form-group">
        <label for="{{ form.your_names.id_for_label }}">Nombre</label>
        {{form.your_names}}
     </div>

            <div class="form-group">
        <label for="{{ form.your_last_names.id_for_label }}">Apellidos</label>
        {{form.your_last_names}}
     </div>


    <div class="form-group">
        <label for="{{ form.your_email.id_for_label }}">Correo Electronico</label>
        {{form.your_email}}
     </div>

    <div class="form-group">
        <label for="{{ form.your_password.id_for_label }}">Constraseña</label>
        {{form.your_password}}
     </div>

    <div class="form-group">
        <label for="{{ form.repeat_password.id_for_label }}">Constraseña</label>
        {{form.repeat_password}}
     </div>

<div class="alert alert-primary" role="alert">
 {{form.non_field_errors}}
</div>




<button type="submit" class="btn btn-dark">Registrar</button>
</form>
    </div>
</div>

</div>

<script>
    function validateText(id)
{
if($("#"+id).val()==null || $("#"+id).val()=="")
{
var div = $("#"+id).closest("div");
div.removeClass("has-success");
$("#glypcn"+id).remove();
div.addClass("has-error has-feedback");
div.append('<span id="glypcn'+id+'" class="glyphicon glyphicon-remove form-control-feedback"></span>');
return false;
}
else{
    var div = $("#"+id).closest("div");
    div.removeClass("has-error");
$("#glypcn"+id).remove();
div.addClass("has-success has-feedback");
div.append('<span id="glypcn'+id+'" class="glyphicon glyphicon-ok form-control-feedback"></span>');
    return true;
}

}

function validateEmail(id)
{
  var email_regex = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i;
if(!email_regex.test($("#"+id).val()))
{
var div = $("#"+id).closest("div");
div.removeClass("has-success");
$("#glypcn"+id).remove();
div.addClass("has-error has-feedback");
div.append('<span id="glypcn'+id+'" class="glyphicon glyphicon-remove form-control-feedback"></span>');
return false;
}
else{
    var div = $("#"+id).closest("div");
    div.removeClass("has-error");
$("#glypcn"+id).remove();
div.addClass("has-success has-feedback");
div.append('<span id="glypcn'+id+'" class="glyphicon glyphicon-ok form-control-feedback"></span>');
    return true;
}

}

$(document).ready(
function()
{
$("#contactButton").click(function()
{
 if(!validateText("contactName"))
 {
    return false;
 }
 if(!validateEmail("contactEmail"))
 {
    return false;
 }
 if(!validateText("contactMobile"))
 {
    return false;
 }
 if(!validateText("contactAddress1"))
 {
    return false;
 }
 if(!validateText("contactCity"))
 {
    return false;
 }
 $("form#contactForm").submit();
}

    );
}


    );


</script>




</body>
</html>